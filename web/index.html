<!doctype html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Broker AI</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body class="sidebar-open view-objects">
    <aside class="sidebar">
        <div class="sidebar__brand">BA</div>
        <nav>
            <a class="sidebar__item active" href="#" data-view="objects">
                <span class="icon">üìÇ</span>
                <span class="sidebar__label">Mina objekt</span>
            </a>
            <a class="sidebar__item" href="#" data-view="generator">
                <span class="icon">ü™Ñ</span>
                <span class="sidebar__label">Annonsgenerator</span>
            </a>
            <a class="sidebar__item" href="#" data-view="stats">
                <span class="icon">üìä</span>
                <span class="sidebar__label">Statistik</span>
            </a>
            <a class="sidebar__item" href="#" data-view="templates">
                <span class="icon">üß©</span>
                <span class="sidebar__label">Mallar</span>
            </a>
            <a class="sidebar__item" href="#" data-view="settings">
                <span class="icon">‚öôÔ∏è</span>
                <span class="sidebar__label">Inst√§llningar</span>
            </a>
        </nav>
    </aside>

    <div class="shell">
        <header class="topbar">
            <div class="topbar__left">
                <button class="ghost icon-button" id="sidebar-toggle" type="button" aria-expanded="true" aria-label="F√§ll ihop meny">
                    <span aria-hidden="true">‚ò∞</span>
                </button>
                <div id="topbar-copy">
                    <p class="eyebrow">Automatiserad annonsstudio</p>
                    <h1 id="topbar-title">Annonsgenerator</h1>
                    <p class="muted" id="topbar-subtitle">Skapa och omskriv annonser.</p>
                </div>
            </div>
            <div class="topbar__actions">
                <button class="secondary" data-view-trigger="objects">Mina objekt</button>
                <button class="primary" data-view-trigger="generator">Skapa annons</button>
            </div>
        </header>

        <div id="view-generator" class="view">
            <main class="workspace">
                <section class="panel input-panel">
                    <div class="upload-block">
                        <div class="upload-header">
                            <div>
                                <p class="eyebrow">Ladda upp filer</p>
                                <p class="muted">Bilder, planritningar eller PDF:er f√∂r AI-analys.</p>
                            </div>
                            <button class="ghost" id="upload-btn">V√§lj filer</button>
                        </div>
                        <div class="dropzone" id="dropzone">
                            <input type="file" id="file-input" multiple hidden>
                            <p>Drag & sl√§pp filer h√§r eller klicka f√∂r att ladda upp</p>
                            <div class="upload-icons">
                                <span>üñº</span><span>üìÑ</span><span>üìé</span><span>üì∑</span>
                            </div>
                        </div>
                        <div id="upload-list" class="upload-list"></div>
                    </div>

                    <header>
                        <p class="eyebrow">Fakta om bostaden</p>
                    </header>
                    <form id="listing-form" class="minimal-form">
                        <div class="field">
                            <label for="address">Adress*</label>
                            <input id="address" name="address" type="text" placeholder="Storgatan 15" required>
                        </div>
                        <div class="grid-2">
                            <div class="field">
                                <label for="neighborhood">Omr√•de</label>
                                <input id="neighborhood" name="neighborhood" type="text" placeholder="Vasastan">
                            </div>
                            <div class="field">
                                <label for="city">Stad</label>
                                <input id="city" name="city" type="text" placeholder="Stockholm">
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="field">
                                <label for="property-type">Bostadstyp</label>
                                <select id="property-type" name="property_type">
                                    <option value="l√§genhet">L√§genhet</option>
                                    <option value="villa">Villa</option>
                                    <option value="radhus">Radhus</option>
                                    <option value="parhus">Parhus</option>
                                    <option value="fritidshus">Fritidshus</option>
                                    <option value="bostad">Annat</option>
                                </select>
                            </div>
                            <div class="field">
                                <label for="rooms">Antal rum</label>
                                <input id="rooms" name="rooms" type="number" min="0" step="0.5" placeholder="3">
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="field">
                                <label for="living-area">Boarea (kvm)</label>
                                <input id="living-area" name="living_area" type="number" min="0" step="0.5" placeholder="82">
                            </div>
                            <div class="field optional" id="floor-field">
                                <label for="floor">V√•ning (f√∂r l√§genhet)</label>
                                <input id="floor" name="floor" type="text" placeholder="1">
                            </div>
                        </div>
                        <div class="grid-2">
                            <label class="checkbox">
                                <input type="checkbox" id="balcony" name="balcony"> Balkong/uteplats
                            </label>
                            <div class="field">
                                <label for="condition">Skick</label>
                                <select id="condition" name="condition">
                                    <option value="">- V√§lj -</option>
                                    <option value="Renoverad">Renoverad</option>
                                    <option value="Bra skick">Bra skick</option>
                                    <option value="Visst renoveringsbehov">Visst renoveringsbehov</option>
                                </select>
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="field optional">
                                <label for="association">F√∂reningens namn</label>
                                <input id="association" name="association" type="text" placeholder="Brf Exempel">
                            </div>
                            <div class="field optional">
                                <label for="highlights">F√∂rdelar (komma-separerat)</label>
                                <input id="highlights" name="highlights" type="text" placeholder="Balkong, L√•g avgift">
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="field">
                                <label for="tone">Ton</label>
                                <select id="tone" name="tone">
                                    <option>Neutral</option>
                                    <option>S√§ljande</option>
                                    <option>Lyxig</option>
                                    <option>Familj√§r</option>
                                    <option>Saklig</option>
                                </select>
                            </div>
                            <div class="field">
                                <label for="length">L√§ngd</label>
                                <select id="length" name="length">
                                    <option value="kort">Kort (140-180 ord)</option>
                                    <option value="normal" selected>Normal (250-300 ord)</option>
                                    <option value="l√•ng">L√•ng (350-450 ord)</option>
                                </select>
                            </div>
                        </div>
                        <div class="actions">
                            <button type="submit" class="primary">Generera annons</button>
                            <p id="form-message" role="status"></p>
                        </div>
                    </form>
                </section>

                <section class="panel editor" id="editor-panel">
                    <header class="editor__header">
                        <div>
                            <p class="eyebrow">Annons</p>
                            <h2 id="detail-address">Ingen annons √§n</h2>
                            <p class="muted">Texten genereras h√§r. Markera meningar och v√§lj omskrivning.</p>
                        </div>
                        <div class="editor__actions">
                            <button class="secondary" id="copy-text-btn" disabled>Kopiera text</button>
                            <button class="secondary" id="download-txt-btn" disabled>Ladda ner TXT</button>
                        </div>
                    </header>
                    <div class="editor__body">
                        <textarea id="full-editor" class="full-editor" placeholder="Generera annons f√∂r att b√∂rja" readonly></textarea>
                        <div id="ai-status" class="ai-status hidden"></div>
                    </div>
                </section>

                <section class="panel tools" id="rewrite-panel">
                    <header>
                        <p class="eyebrow">Omskrivning</p>
                        <h2>1 klick p√• markerad text</h2>
                    </header>
                    <div class="tool-buttons">
                        <button class="chip selection-action" data-mode="rewrite">Skriv om</button>
                        <button class="chip selection-action" data-mode="sales">Mer s√§ljande</button>
                        <button class="chip selection-action" data-mode="shorter">Kortare</button>
                        <button class="chip selection-action" data-mode="simpler">Enklare spr√•k</button>
                        <button class="chip selection-action" data-mode="luxury">Lyxigare ton</button>
                        <button class="chip selection-action" data-mode="longer">L√§ngre</button>
                    </div>
                    <button class="primary" id="regenerate-btn" disabled>Generera ny variant</button>

                    <div class="versions">
                        <div class="versions__header">
                            <p class="eyebrow">Versioner</p>
                            <button class="ghost" id="clear-versions" disabled>Rensa</button>
                        </div>
                        <div id="version-list" class="version-list"></div>
                    </div>
                </section>
            </main>
        </div>

        <div id="view-objects" class="view view--active">
            <section class="objects-panel">
                <div class="objects-panel__header">
                    <div>
                        <p class="eyebrow">Mina objekt</p>
                        <h2>√ñversikt √∂ver annonser</h2>
                    </div>
                    <div class="objects-panel__actions">
                        <input type="search" id="object-search" placeholder="S√∂k adress, omr√•de eller stad" aria-label="S√∂k objekt">
                        <button class="ghost" id="refresh-objects" type="button">Uppdatera</button>
                    </div>
                </div>
                <div id="object-list" class="object-list">
                    <p class="empty-state">Inga objekt √§nnu. Skapa din f√∂rsta annons.</p>
                </div>
            </section>
        </div>

        <div id="view-stats" class="view">
            <section class="stat-section">
                <p class="eyebrow">Volym</p>
                <div class="stat-grid">
                    <article class="stat-card">
                        <p class="stat-card__label">Skapade annonser / vecka</p>
                        <h3 id="stat-week">0</h3>
                        <p class="muted">Senaste 7 dagarna</p>
                    </article>
                    <article class="stat-card">
                        <p class="stat-card__label">Skapade annonser / m√•nad</p>
                        <h3 id="stat-month">0</h3>
                        <p class="muted">Senaste 30 dagarna</p>
                    </article>
                    <article class="stat-card">
                        <p class="stat-card__label">Skapade annonser / totalt</p>
                        <h3 id="stat-total">0</h3>
                        <p class="muted">Alla genererade annonser</p>
                    </article>
                </div>
            </section>

            <section class="stat-section">
                <p class="eyebrow">Aktivitet & media</p>
                <div class="stat-grid">
                    <article class="stat-card">
                        <p class="stat-card__label">Omskrivningar</p>
                        <h3 id="stat-rewrites">0</h3>
                        <p class="muted">Anv√§ndningar denna vecka</p>
                    </article>
                    <article class="stat-card">
                        <p class="stat-card__label">Bearbetade bilder</p>
                        <h3 id="stat-images">0</h3>
                        <p class="muted">Analys och uppladdningar</p>
                    </article>
                    <article class="stat-card">
                        <p class="stat-card__label">Snitt bilder / objekt</p>
                        <h3 id="stat-images-avg">0.0</h3>
                        <p class="muted">Bearbetade bilder per annons</p>
                    </article>
                </div>
            </section>

            <section class="stat-section">
                <p class="eyebrow">Tidssparande</p>
                <div class="stat-grid">
                    <article class="stat-card">
                        <p class="stat-card__label">Tid sparad / annons</p>
                        <h3 id="stat-saved-avg">0 min</h3>
                        <p class="muted">J√§mf√∂rt med manuellt skrivande</p>
                    </article>
                    <article class="stat-card">
                        <p class="stat-card__label">Tid sparad / m√•nad</p>
                        <h3 id="stat-saved-month">0 h</h3>
                        <p class="muted">Senaste 30 dagarna</p>
                    </article>
                    <article class="stat-card">
                        <p class="stat-card__label">Total tid sparad</p>
                        <h3 id="stat-saved-total">0 h</h3>
                        <p class="muted">Alla genererade annonser</p>
                    </article>
                </div>
            </section>
        </div>
        <div id="view-images" class="view">
            <section class="panel">
                <p class="eyebrow">Bildhantering</p>
                <h2>Hantera bilder och filer</h2>
                <p class="muted">Ladda upp, tagga och f√∂rbered bildmaterial f√∂r annonser.</p>
                <p class="muted">Denna sektion kan fyllas med bilduploads och medie√∂versikt.</p>
            </section>
        </div>

        <div id="view-templates" class="view">
            <section class="panel">
                <p class="eyebrow">Mallar</p>
                <h2>Annonsmallar</h2>
                <p class="muted">Spara och √•teranv√§nd ton och struktur f√∂r olika m√•lgrupper.</p>
                <p class="muted">L√§gg till mallkort och knappar f√∂r att v√§lja mall.</p>
            </section>
        </div>

        <div id="view-settings" class="view">
            <section class="panel">
                <p class="eyebrow">Inst√§llningar</p>
                <h2>Kontoinst√§llningar</h2>
                <p class="muted">Justera spr√•k, ton, standardf√§lt och integrationer.</p>
                <p class="muted">L√§gg till formul√§r f√∂r API-nycklar, team och notifieringar.</p>
            </section>
        </div>
    </div>

    <div id="modal-overlay" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div class="modal__content">
            <div class="modal__header">
                <div>
                    <p class="eyebrow">Objekt</p>
                    <h3 id="modal-title">-</h3>
                </div>
                <button class="ghost icon-button" id="modal-close" type="button" aria-label="St√§ng">‚úï</button>
            </div>
            <div class="modal__actions">
                <button class="secondary" id="modal-copy" type="button">Kopiera text</button>
            </div>
            <div id="modal-body" class="modal__body">
                <textarea id="modal-textarea" aria-label="Objekttext" placeholder="Ingen text √§nnu."></textarea>
            </div>
        </div>
    </div>

    <script src="/app.js"></script>
</body>
</html>
